<link href="js/bootstrap-table.min.css" rel="stylesheet">
<link rel="stylesheet" href="css/bootstrap.min.css">
<link href="vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css">

<script src="vendor/jquery/jquery.js"></script>
<script src="js/bootstrap-table.min.js"></script>
<script src="js/popper.min.js"></script>
</script>

<style>
    .select,
    #locale {
        width: 100%;
    }

    .like {
        margin-right: 10px;
    }
</style>
<div class="container">
    <div class="row">
        <h6>Jenjang</h6>
        <select class="custom-select" id="jenjang">
            <option value="SMA IPA">SMA IPA</option>
            <option value="SMA IPS">SMA IPS</option>
            <option value="SMK">SMK</option>
        </select>

        <h6>Tahun</h6>
        <select class="custom-select" id="tahun">
            <option value="2015">2015</option>
            <option value="2016">2016</option>
            <option value="2017">2017</option>
            <option value="2018">2018</option>
            <option value="2019">2019</option>
            <option value="Semua">Semua Tahun</option>


        </select>
        <h6>Status</h6>
        <select class="custom-select" id="status">
            <option value="Semua">Semua</option>
            <option value="Negeri">Negeri</option>
            <option value="Swasta">Swasta</option>
        </select>
        <h6>Data Yang Ditampilkan</h6>
        <select class="custom-select" id="data_ditampilkan">
            <option value="Provinsi">Provinsi</option>
            <option value="Kab/Kota">Kab/Kota</option>
            <option value="Sekolah">Sekolah</option>
        </select>

        <div id="lingkup">
            <h6>Lingkup</h6>
            <select class="custom-select">
                <option value="Nasional">Nasional</option>
                <option value="Provinsi">Provinsi</option>
            </select>
        </div>




    </div>
    <br>
    <button class="btn btn-secondary" id="submit">Submit</button>

    <br>
</div>

</div>
<div id="tableIPAProv">
    <table class="table" data-toggle="table" data-query-params="queryParams" data-sort-stable="true"
        data-url="JSON/ipa.json">
        >
        <thead>
            <tr>
                <th data-field="KODE">Kode</th>
                <th data-field="NAMA PROVINSI">Nama Provinsi</th>
                <th data-field="JUMLAH SATUAN PENDIDIKAN">Jumlah Satuan Pendidikan</th>
                <th data-field="JUMLAH PESERTA">Jumlah Peserta</th>
                <th data-field="Tahun">Tahun</th>
                <th data-field="BAHASA INDONESIA" data-sortable="true">Bahasa Indonesia</th>
                <th data-field="BAHASA INGGRIS" data-sortable="true">Bahasa Inggris</th>
                <th data-field="MATEMATIKA" data-sortable="true">Matematika</th>
                <th data-field="FISIKA" data-sortable="true">Fisika</th>
                <th data-field="KIMIA" data-sortable="true">Kimia</th>
                <th data-field="BIOLOGI" data-sortable="true">Biologi</th>
                <th data-field="RERATA NILAI" data-sortable="true">Rerata Nilai</th>

            </tr>
        </thead>
    </table>
</div>
<div id="tableIPSProv">
    <table class="table" data-toggle="table" data-query-params="queryParams" data-sort-stable="true"
        data-url="JSON/ipa.json">
        >
        <thead>
            <tr>
                <th data-field="KODE">Kode</th>
                <th data-field="NAMA PROVINSI">Nama Provinsi</th>
                <th data-field="JUMLAH SATUAN PENDIDIKAN">Jumlah Satuan Pendidikan</th>
                <th data-field="JUMLAH PESERTA">Jumlah Peserta</th>
                <th data-field="Tahun">Tahun</th>
                <th data-field="BAHASA INDONESIA" data-sortable="true">Bahasa Indonesia</th>
                <th data-field="BAHASA INGGRIS" data-sortable="true">Bahasa Inggris</th>
                <th data-field="MATEMATIKA" data-sortable="true">Matematika</th>
                <th data-field="EKONOMI" data-sortable="true">Ekonomi</th>
                <th data-field="SOSIOLOGI" data-sortable="true">Sosiologi</th>
                <th data-field="GEOGRAFI" data-sortable="true">Geografi</th>
                <th data-field="RERATA NILAI" data-sortable="true">Rerata Nilai</th>

            </tr>
        </thead>
    </table>
</div>
<div id="tableSMKProv">
    <table id="tableSMKProv" class="table" data-toggle="table" data-query-params="queryParams" data-sort-stable="true"
        data-url="JSON/ipa.json">
        >
        <thead>
            <tr>
                <th data-field="KODE">Kode</th>
                <th data-field="NAMA PROVINSI">Nama Provinsi</th>
                <th data-field="JUMLAH SATUAN PENDIDIKAN">Jumlah Satuan Pendidikan</th>
                <th data-field="JUMLAH PESERTA">Jumlah Peserta</th>
                <th data-field="Tahun">Tahun</th>
                <th data-field="BAHASA INDONESIA" data-sortable="true">Bahasa Indonesia</th>
                <th data-field="BAHASA INGGRIS" data-sortable="true">Bahasa Inggris</th>
                <th data-field="MATEMATIKA" data-sortable="true">Matematika</th>
                <th data-field="KOMPETENSI" data-sortable="true">Kompetensi</th>
                <th data-field="RERATA NILAI" data-sortable="true">Rerata Nilai</th>

            </tr>
        </thead>
    </table>

</div>

<script>
    $('#lingkup').hide();
    $("#data_ditampilkan").change(function () {
        var selectedCountry = $(this).children("option:selected").val();
        if (selectedCountry == "Provinsi") {
            $('#lingkup').hide();
        } else if (selectedCountry == "Kab/Kota") {
            $('#lingkup').show();
        } else if (selectedCountry == "Sekolah") {
            $('#lingkup').show();
        }
    });
    var $table = $('.table');
    $(function () {
        $('#submit').click(function () {
            $table.bootstrapTable('refreshOptions', {
                filterOptions: {
                    filterAlgorithm: "and"
                }
            })
            if ($('#tahun').children("option:selected").val() != "Semua") {
                $table.bootstrapTable('filterBy', {
                    "Tahun": $('#tahun').children("option:selected").val()
                })
            }
            console.log($('#tahun').children("option:selected").val())
            if ($('#jenjang').children("option:selected").val() == "SMA IPA") {
                $('#tableSMKProv').hide();
                $('#tableIPSProv').hide();
                $('#tableIPAProv').show();
                if ($('#status').children("option:selected").val() == "Semua") {
                    $table.bootstrapTable('refresh', {
                        url: 'JSON/ipa.json'
                    })
                } else if (($('#status').children("option:selected").val() == "Negeri")) {
                    $table.bootstrapTable('refresh', {
                        url: 'JSON/ipanegri.json'
                    })
                } else {
                    $table.bootstrapTable('refresh', {
                        url: 'JSON/ipaswas.json'
                    })
                }
            } else if ($('#jenjang').children("option:selected").val() == "SMA IPS") {
                $('#tableSMKProv').hide();
                $('#tableIPSProv').show();
                $('#tableIPAProv').hide();

                if ($('#status').children("option:selected").val() == "Semua") {
                    $table.bootstrapTable('refresh', {
                        url: 'JSON/ips.json'
                    })
                } else if (($('#status').children("option:selected").val() == "Negeri")) {
                    $table.bootstrapTable('refresh', {
                        url: 'JSON/ipsnegri.json'
                    })
                } else {
                    $table.bootstrapTable('refresh', {
                        url: 'JSON/ipsswas.json'
                    })
                }
            } else if ($('#jenjang').children("option:selected").val() == "SMK") {
                $('#tableSMKProv').show();
                $('#tableIPSProv').hide();
                $('#tableIPAProv').hide();
                if ($('#status').children("option:selected").val() == "Semua") {
                    $table.bootstrapTable('refresh', {
                        url: 'JSON/SMK.json'
                    })
                } else if (($('#status').children("option:selected").val() == "Negeri")) {
                    $table.bootstrapTable('refresh', {
                        url: 'JSON/SMKnegri.json'
                    })
                } else {
                    $table.bootstrapTable('refresh', {
                        url: 'JSON/SMKswas.json'
                    })
                }
            }
        })
    })
</script>